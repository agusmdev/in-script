const CHAT_BUTTON_SIZE=50,CHAT_BUTTON_RADIUS=25,CHAT_BUTTON_BACKGROUND_COLOR="black",scriptTag=document.currentScript;let ICON_COLOR="white";const chatButton=document.createElement("div");chatButton.setAttribute("id","chatbase-bubble-button"),chatButton.style.position="fixed",chatButton.style.bottom="20px",chatButton.style.right="20px",chatButton.style.width="50px",chatButton.style.height="50px",chatButton.style.borderRadius="25px",chatButton.style.backgroundColor="black",chatButton.style.boxShadow="0 4px 8px 0 rgba(0, 0, 0, 0.2)",chatButton.style.cursor="pointer",chatButton.style.zIndex=999999999,chatButton.style.transition="all .2s ease-in-out",chatButton.addEventListener("mouseenter",t=>{chatButton.style.transform="scale(1.05)"}),chatButton.addEventListener("mouseleave",t=>{chatButton.style.transform="scale(1)"});const chatButtonIcon=document.createElement("div");chatButtonIcon.style.display="flex",chatButtonIcon.style.alignItems="center",chatButtonIcon.style.justifyContent="center",chatButtonIcon.style.width="100%",chatButtonIcon.style.height="100%",chatButtonIcon.style.zIndex=999999999,chatButton.appendChild(chatButtonIcon),chatButton.addEventListener("click",()=>{"none"===chat.style.display?(chat.style.display="flex",chatButtonIcon.innerHTML=getChatButtonCloseIcon()):(chat.style.display="none",chatButtonIcon.innerHTML=getChatButtonIcon())});const chat=document.createElement("div");chat.setAttribute("id","chatbase-bubble-window"),chat.style.position="fixed",chat.style.flexDirection="column",chat.style.justifyContent="space-between",chat.style.bottom="80px",chat.style.right="20px",chat.style.width="85vw",chat.style.height="70vh",chat.style.boxShadow="rgba(150, 150, 150, 0.15) 0px 6px 24px 0px, rgba(150, 150, 150, 0.15) 0px 0px 0px 1px",chat.style.display="none",chat.style.borderRadius="10px",chat.style.zIndex=999999999,chat.style.overflow="hidden",document.body.appendChild(chat),chat.innerHTML=`<iframe
src="http://d6b3-181-4-97-194.ngrok.io"
width="100%"
height="100%"
frameborder="0"
></iframe>`;const mediaQuery=window.matchMedia("(min-width: 550px)");function handleChatWindowSizeChange(t){t.matches&&(chat.style.height="600px",chat.style.width="400px")}mediaQuery.addEventListener("change",handleChatWindowSizeChange),handleChatWindowSizeChange(mediaQuery);const getChatButtonColor=async()=>{chatButton.style.backgroundColor="black",document.body.appendChild(chatButton);let t=getContrastingTextColor("black");console.log("iconColor",t),ICON_COLOR=t,chatButtonIcon.innerHTML=getChatButtonIcon()};function getChatButtonIcon(){return`
  <svg id="chatIcon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.3" stroke="${ICON_COLOR}" width="24" height="24">
  <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
  </svg>`}function getChatButtonCloseIcon(){return`
  <svg id="closeIcon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.3" stroke="${ICON_COLOR}" width="24" height="24">
    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
  </svg>
  `}function getContrastingTextColor(t){return"#"===t.charAt(0)&&(t=t.substr(1)),(.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16))/255>.5?"black":"white"}getChatButtonColor();
